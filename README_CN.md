# MindSpark

> 让被遗忘的笔记重新找到你——通过加权随机浮现旧想法。

## 它做什么

MindSpark 在 Obsidian 侧边栏中随机浮现你笔记库里的笔记。它会优先展示你很久没看过的笔记，抑制最近刚出现过的笔记，帮你和过去的想法重新相遇。

## 功能

- **加权随机浮现** — 从未出现过的笔记 3 倍优先；刚出现的 72 小时内被抑制；越老的笔记轻微加成
- **侧边栏面板** — 可配置展示 3–10 张笔记卡片，含标题和内容预览
- **点击打开** — 点击卡片直接在编辑器中打开笔记
- **刷新** — 手动点刷新按钮换一批，或开启每次打开自动刷新
- **文件夹排除** — 设置页树形文件夹选择器，关闭不想被浮现的文件夹
- **首次引导** — 第一次打开时显示简短说明，点击"已了解"后永久消失
- **智能预览** — 自动跳过 YAML frontmatter，识别代码块和 Mermaid 图表
- **主题兼容** — 全部使用 Obsidian CSS 变量，亮色暗色主题都能用
- **键盘可达** — Tab 聚焦卡片，Enter 打开

## 权重算法

| 因素 | 效果 |
|------|------|
| 从未浮现过 | 权重 × 3 |
| 刚浮现过 | 72 小时内逐渐恢复 |
| 笔记越老 | 轻微加成 |

## 设置

| 设置项 | 说明 |
|--------|------|
| **展示数量** | 每次显示的卡片数（3–10，默认 5） |
| **排除文件夹** | 树形选择器，关闭的文件夹不参与浮现 |
| **自动刷新** | 开：每次打开侧边栏换新笔记；关：保留上次的 |

## 安装

### 从 Obsidian 社区插件安装

1. 打开 **设置 → 社区插件 → 浏览**
2. 搜索 **MindSpark**
3. 点击 **安装**，然后 **启用**

### 手动安装

1. 从 [最新 Release](https://github.com/qishangc/obsidian-mindspark/releases) 下载 `main.js`、`manifest.json`、`styles.css`
2. 在笔记库中创建 `.obsidian/plugins/obsidian-mindspark-plugin/` 文件夹
3. 将三个文件放入该文件夹
4. 在 **设置 → 社区插件** 中启用

## 使用

1. 点击左侧 Ribbon 栏的 🎲 骰子图标（或命令面板搜索 `MindSpark: 打开侧边栏`）
2. 浏览浮现的笔记
3. 点击卡片打开笔记
4. 点击 🔄 刷新换一批

## 数据与隐私

- 所有数据留在本地——浏览历史存储在笔记库的插件数据中
- 不发送任何网络请求
- 不修改你的笔记内容

## 开发

```bash
npm install
npm run dev     # 监听模式
npm run build   # 生产构建
```

## 许可证

[MIT](LICENSE)
